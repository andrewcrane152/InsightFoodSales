<!-- NAVBAR -->
<div id="navbar" class="navbar-fixed scrollspy">
  <nav  class="white">
    <div class="nav-wrapper container">

      <div class="container">
        <a data-scroll href="#index-banner" class="brand-logo head-link center">
          <img class="navbar-logo navbar-height" src="styles/img/InsightLogo.jpg">
        </a>
      </div>

      <ul class="right hide-on-med-and-down">
        <li><a data-scroll class="head-link" href="#statement">Our Mission</a></li>
        <li><a data-scroll class="head-link" href="#clients">Brands/Clients</a></li>
        <li><a data-scroll class="head-link" href="#aboutus">About Us</a></li>
        <li><a data-scroll class="head-link" href="#contactus">Contact Us</a></li>
      </ul>

    </div>
  </nav>
</div>


<div id="backgroundStyle">
  <div id="mainBody">

    <!-- LOGOUT BUTTON -->
    <button
      id="position-top-right"
      class="btn waves-effect waves-light"
      type="submit"
      name="action"
      ng-click="logout()"
      ng-if="user">
      Logout {{user.name}}
    </button>

    <!-- INTRO BANNER -->
    <div id="index-banner">
      <div class="container box remove-top-margin">
        <h1 class="header center indigo-text text-darken-4 remove-top-margin">
          <img class="logo-height" src="styles/img/Insight.jpg"> Food Sales
        </h1>
        <h5 class="header center col s12 indigo-text text-darken-4 sub-header">
          Specializing in Service Bakery and Service Deli
        </h5>
        <div class="center">
          <img class="map-height" src="styles/img/map.jpg">
        </div>
      </div>
    </div>

    <!-- ICON SECTION -->
    <div id="features" class="container">
      <div class="row">
        <div class="col s12 m4">
          <div class="icon-block">
            <div class="center">
              <img class="icon-height" src="styles/img/people.jpg">
            </div>
            <h5 class="center">Account Management</h5>
            <p class="light">
              Our dedicated team of professionals is hard at work for you, both behind the scenes and on the front lines with our expert knowledge.
            </p>
          </div>
        </div>

        <div class="col s12 m4">
          <div class="icon-block">
            <div class="center">
              <img class="icon-height" src="styles/img/graph.jpg">
            </div>
            <h5 class="center">Increased Exposure</h5>
            <p class="light">
              Grow your footprint.  We have fostered strong relationships with key markets to provide your business the best opportunities possible.
            </p>
          </div>
        </div>

        <div class="col s12 m4">
          <div class="icon-block">
            <div class="center">
              <img class="icon-height" src="styles/img/cart.jpg">
            </div>
            <h5 class="center">In-Store Support</h5>
            <p class="light">
              With team members strategically placed throughout the West we are your solution to build and maintain strong customer relationships.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- MISSION STATEMENT -->
    <div id="statement"
      class="parallax-container valign-wrapper section scrollspy">
      <div class="section no-pad-bot">
        <div class="container box">
          <div class="center row no-bottom-margin col s3">
            <h3>{{ mission.title }}</h3>
          </div>
          <hr>
          <div class="center row col s12">
            <p class="flow-text">{{ mission.body }}</p>
            <!-- UNCOMMENTING MAKES MISSION MODAL EDITABLE
            <a href=""
              data-target="editMissionModal"
              class="modal-trigger"
              ng-click="openThisModal('editMissionModal')"
              >
              <i class="fa fa-pencil" ng-if="user"></i>
            </a> -->
          </div>
        </div>
      </div>
      <div class="parallax">
        <img src="styles/img/bakery.jpg" alt="img">
      </div>
    </div>

    <!-- CLIENTS -->
    <div class="container section scrollspy" id="clients">
      <div class="section">
        <br><br>
        <h4 class="center">Our Brands/Clients</h4>
        <p class="center">Click on their logo to view their sites.</p>
        <!-- <hr> -->
        <br>
        <div class="row">
          <div ng-repeat="mfgr in mfgrs | orderBy:'title'">
          <div class="center col s4">
            <div class="responsive-container">
              <a ng-href="{{mfgr.website}}" target="blank" class="picture-size">
                <img class="responsive-img justify-content-center vertical-center" ng-src="{{mfgr.imageURL}}">
              </a>
            </div>
            <h5>{{ mfgr.title }}</h5>
            <a href=""
              data-target="editManuModal"
              class="modal-trigger"
              ng-click="openEditManuModal(mfgr)"
              ng-if="user">
              <i class="fa fa-pencil"></i>
            </a>
          </div>
          </div>
        </div>

        <div class="center">
          <a href=""
            data-target="uploadManuModal"
            class="modal-trigger waves-effect waves-light btn indigo darken-4"
            ng-click="openThisModal('uploadManuModal')" ng-if="user">
            Add Manufacturer
          </a>
        </div>
      </div>
    </div>

    <!-- // ABOUT US // -->
    <div id="aboutus"
      class="parallax-container valign-wrapper section scrollspy">
      <div class="section no-pad-bot">
        <div class="container box">
          <div class="center row col no-bottom-margin s3">
            <h3>{{ aboutUs.title }}</h3>
          </div>
          <hr>
          <div class="center row col s12 larger-font">
            <p>{{ aboutUs.body }}</p>
            <a href=""
              data-target="editAboutUsModal"
              class="modal-trigger"
              ng-click="openThisModal('editAboutUsModal')">
              <i class="fa fa-pencil" ng-if="user"></i>
            </a>
          </div>
        </div>
      </div>
      <div class="parallax"><img src="styles/img/wine-cheese.jpg" alt="img">
      </div>
    </div>

    <!-- // SEND EMAIL // -->
    <div class="container section scrollspy" id="contactus">
      <div class="section">
        <br><br>
        <div class="row">
          <form class="col s12 m8 l8">
            <h2>Contact Us</h2>

            <div class="row">
              <div class="input-field col s6">
                <input id="name" type="text" class="validate" ng-model="contactName">
                <label for="name">Your Name</label>
              </div>
              <div class="input-field col s6">
                <input id="email" type="email" class="validate" ng-model="fromEmail">
                <label for="email">Your Email*</label>
              </div>
            </div>

            <div class="row">
              <div class="input-field col s12">
                <input id="message-sub" type="text" class="validate" ng-model="messageSub">
                <label for="message-sub">Message Subject</label>
              </div>
            </div>

            <div class="row">
              <div class="input-field col s12">
                <textarea id="text_area" type="text" class="materialize-textarea" ng-model="message"></textarea>
                <label for="text_area">Your Message</label>
              </div>
            </div>

            <div>
              <a class="waves-effect waves-light btn indigo darken-3" ng-click="sendEmail(contactName, fromEmail, messageSub, message); confirmEmail(contactName, fromEmail, messageSub, message)" onclick="Materialize.toast('Email Sent', 4000)">Send Message<i class="mdi-content-send right"></i></a>
              <p>*You will receive a confirmation email with a copy of your message.</p>
            </div>
          </form>

          <!-- CONTACT INFORMATION -->
          <div class="col s12 m4">
            <ul>
              <li><i class="fa fa-phone"></i>(714)685-9323</li>
              <li><i class="fa fa-envelope"></i>admin@insightfoodsales.com</li>
            </ul>

            <iframe class="col s12 m12 l12" height="300" frameborder="0" style="border:0" src="https://www.google.com/maps/embed/v1/place?q=place_id:ChIJ-Z6VExHX3IARof_R1R1ebcM&key=AIzaSyCbgROgMReJ-wvC3Ibi1TUB_Ttg6LmwGSA" allowfullscreen></iframe>

            <ul class="share-buttons">
              <li>
                <a href="https://www.facebook.com/insightfoodsales/timeline"
                  target="_blank"
                  title="Find us on Facebook">
                  <p><i class="fa fa-facebook"></i>Find us on Facebook!</p>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- FOOTER -->
    <footer class="page-footer indigo darken-4">
      <div class="footer-copyright">
        <div class="container" ng-if="!user">
          <span class="footer-spacing">Copyright © InsightFoodSales.com  2016</span>
          <span class="footer-spacing">
            <a href=""
               ng-click="openThisModal('loginModal')">
               Admin Login
            </a>
          </span>
        </div>
        <div class="container" ng-if="user">
          <div ng-if="user">
            <span class="footer-spacing">Copyright © InsightFoodSales.com  2016</span>
            <span class="footer-spacing">
              <a href=""
                data-target="addUserModal"
                class="modal-trigger"
                ng-click="openThisModal('addUserModal')">
                Manage Users
              </a>
            </span>
            <span class="footer-spacing">
               <a href=""
               data-target="updateUserModal"
               class="modal-trigger"
               ng-click="openThisModal('updateUserModal')"
               ng-if="user">
               Update Current User
             </a>
            </span>
          </div>
        </div>
      </div>
    </footer>
  </div>
</div>

<!-- /////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////// -->

<!-- LOGIN MODAL -->
<div id="loginModal" class="modal">
  <div class="row">
      <div class="col s12 m12 l12">
          <h2 class="center-align">Login</h2>
          <div class="row">
            <a class="hidemodal" href="" ng-click="closeThisModal('loginModal')"><i class="fa fa-times-circle-o fa-2x"></i></a>
              <form class="col s12">
                  <div class="row">
                      <div class="input-field col s12">
                          <input id="email" type="email" class="validate center" ng-model='loginEmail' required>
                          <label for="email">Email</label>
                      </div>
                  </div>
                  <div class="row">
                      <div class="input-field col s12">
                          <input id="pass" type="password" class="validate center" ng-model="loginPassword" required>
                          <label for="pass">Password</label>
                      </div>
                  </div>
                  <div class="divider"></div>
                  <div class="row">
                      <div class="col m12">
                          <p class="right-align">
                              <button class="btn btn-large waves-effect waves-light" type="submit" ng-click="login(loginEmail, loginPassword)">Login</button>
                          </p>
                      </div>
                  </div>
              </form>
          </div>
      </div>
    </div>
</div>

<!-- MANAGE USERS MODAL -->
<div id="addUserModal" class="modal">
  <div class="row">
    <a class="hidemodal" href="" ng-click="closeThisModal('addUserModal')"><i class="fa fa-times-circle-o fa-2x"></i></a>
    <div class="col s12 m12 l12">
      <h4 class="center-align">Create New User</h4>
      <div class="row">
        <form class="col s12">
          <div class="row">
            <div class="input-field col s12">
              <input id="name" type="text" class="validate center" ng-model='newUserName' required>
              <label for="name">Name</label>
            </div>
          </div>

          <div class="row">
            <div class="input-field col s12">
              <input id="email" type="email" class="validate center" ng-model='newUserEmail' required>
              <label for="email">Email</label>
            </div>
          </div>

          <div class="row">
            <div class="input-field col s12">
              <input id="password" type="password" class="validate center" ng-model="newUserPassword" required>
              <label for="password">Password</label>
            </div>
          </div>

          <div class="row">
            <div class="col m12">
              <p class="right-align">
                <button class="btn btn-large waves-effect waves-light"
                  type="submit"
                  ng-click="createNewUser(newUserName, newUserEmail, newUserPassword)">
                  Add User
                </button>
              </p>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="divider"></div>
  <br><br><br>
  <div class="col s12 m12 l12">
    <h4 class="center-align">Delete A User</h4>
  </div>
  <div class="col s12 m12 l12">
    <h6 class="center-align">Select the user to delete</h6>
  </div>
  <ul>
    <li ng-repeat="data in allUsers.data" class="center">
      <a ng-click="$parent.triggerTitle=data.name; $parent.triggerEvent=data._id"
        ng-model="triggerEvent">
        {{ data.name }}
      </a>
    </li>
  </ul>
  <br>
  <div class="row">
    <div class="col m12">
      <p class="right-align">
        <button class="btn btn-large waves-effect waves-light red" ng-click="deleteUser(triggerEvent)">Delete {{triggerTitle}}</button>
      </p>
    </div>
  </div>
</div>

<!-- UPDATE USER MODAL -->
<div id="updateUserModal" class="modal">
  <div class="row">
    <a class="hidemodal" href="" ng-click="closeThisModal('updateUserModal')"><i class="fa fa-times-circle-o fa-2x"></i></a>
    <div class="col s12 m12 l12">
      <h2 class="center-align">Update Current User</h2>
      <div class="row">
        <form class="col s12">
          <div class="row">
            <div class="input-field col s12">
              <input id="name" type="text" class="validate center" ng-model='newName'>
              <label for="name">{{user.name}}</label>
            </div>
          </div>

          <div class="row">
            <div class="input-field col s12">
              <input id="email" type="email" class="validate center" ng-model='newEmail'>
              <label for="email">{{user.email}}</label>
            </div>
          </div>

          <div class="row">
            <div class="input-field col s12">
              <input id="pass" type="password" class="validate center" ng-model="newPassword">
              <label for="pass">New Password</label>
            </div>
          </div>

          <div class="divider"></div>

          <div class="row">
            <div class="col m12">
              <p class="right-align">
                <button class="btn btn-large waves-effect waves-light" type="submit" ng-click="updateUser(newName, newEmail, newPassword)">Update</button>
              </p>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- CREATE MANUFACTURER -->
<div id="uploadManuModal" class="modal">
  <div class="row">
    <a class="hidemodal" href="" ng-click="closeThisModal('uploadManuModal')"><i class="fa fa-times-circle-o fa-2x"></i></a>
    <div class="col s12 m12 l12">
      <h3 class="center-align">Create New Manufacturer</h3>
      <div class="row">
        <form class="col s12">
          <div class="row">
            <div class="input-field col s12">
              <div class="flex-row center">
                <input type="file" id="file_input">
                <p id="status" class="center">Please select an image of the manufacurer's logo to upload</p>
                <p class="center">Images are not to exceed 300 x 300 pixels in size.</p>
                <img id="preview"
                  style="border:1px solid gray;width:300px;"
                  src="styles/img/default.png"/>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="input-field col s12">
              <input id="manuName" type="text" class="validate center" ng-model="newMfgr.title" required>
              <label for="manuName">Manufacturer Name</label>
            </div>
          </div>

          <div class="row">
            <div class="input-field col s12">
              <input id="manuLink" type="url" class="validate center" ng-model="newMfgr.website" required>
              <label for="manuLink">Manufacturer's Website URL</label>
            </div>
          </div>

          <div class="divider"></div>

          <div class="row">
            <div class="col m12">
              <p class="center-align">
                <button
                  class="btn btn-large waves-effect waves-light"
                  type="submit"
                  name="action"
                  ng-click="createMfgr()">
                  Submit
                </button>
              </p>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- EDIT MANUFACTURER MODAL -->
<div id="editManuModal" class="modal">
  <div class="row">
    <a class="hidemodal" href="" ng-click="closeThisModal('editManuModal')"><i class="fa fa-times-circle-o fa-2x"></i></a>
    <div class="col s12 m12 l12">
      <h3 class="center-align">Update Info for {{adjustedMfgr.title}}</h3>
      <div class="row">
        <form class="col s12">
          <div class="row">
            <div class="input-field col s12">
              <div class="flex-row center">
                <input type="file" id="edit_file_input">
                <p id="editStatus" class="center">Please select an image of the manufacurer's logo to upload</p>
                <p class="center">Images are not to exceed 300 x 300 pixels in size.</p>
                <img id="editPreview"
                  style="border:1px solid gray;width:300px;"
                  ng-src="{{ adjustedMfgr.imageURL }}"/>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="input-field col s12">
              <input id="editManuName" type="text" class="validate center" ng-model="adjustedMfgr.title" required>
              <label for="manuName">Manufacturer Name</label>
            </div>
          </div>

          <div class="row">
            <div class="input-field col s12">
              <input id="editManuLink" type="url" class="validate center" ng-model="adjustedMfgr.website" required>
              <label for="manuLink">Manufacturer's Website URL</label>
            </div>
          </div>

          <div class="divider"></div>

          <div class="row">
            <div class="col m4">
              <p class="left-align">
                <button
                  class="btn btn-large waves-effect waves-light red"
                  type="submit"
                  name="action"
                  ng-click="removeMfgr()">
                  Delete {{ adjustedMfgr.title }}
                </button>
              </p>
            </div>
            <div class="col m8">
              <p class="right-align">
                <button
                  class="btn btn-large waves-effect waves-light"
                  type="submit"
                  name="action"
                  ng-click="updateMfgr()">
                  Save Changes
                </button>
              </p>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- EDIT ABOUT US MODAL -->
<div id="editAboutUsModal" class="modal">
  <div class="row">
    <a class="hidemodal" href="" ng-click="closeThisModal('editAboutUsModal')"><i class="fa fa-times-circle-o fa-2x"></i></a>
    <div class="col s12 m12 l12">
      <h3 class="center-align">Update About Us</h3>
      <div class="row">
        <form class="col s12">
          <div class="row">
            <div class="input-field col s12">
              <input id="aboutUsName" type="text" class="validate center" ng-model="newAbout.title" placeholder="{{aboutUs.title}}" required>
              <label for="aboutUsName">About Us Title</label>
            </div>
          </div>

          <div class="row">
            <div class="input-field col s12" >
              <textarea id="aboutUsContent" class="materialize-textarea" ng-model="newAbout.body" placeholder="{{aboutUs.body}}" required></textarea>
              <label for="aboutUsContent">About Insight Food Sales</label>
            </div>
          </div>

          <div class="divider"></div>

          <div class="row">
            <div class="col m8">
              <p class="right-align">
                <button class="btn btn-large waves-effect waves-light" type="submit" name="action" ng-click="updateAboutUs(newAbout)">Save Changes</button>
              </p>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- EDIT MISSION MODAL -->
<div id="editMissionModal" class="modal">
  <div class="row">
    <a class="hidemodal" href="" ng-click="closeThisModal('editMissionModal')"><i class="fa fa-times-circle-o fa-2x"></i></a>
    <div class="col s12 m12 l12">
      <h3 class="center-align">Update Mission Statement</h3>
      <div class="row">
        <form class="col s12">
          <div class="row">
            <div class="input-field col s12">
              <input id="aboutUsName" type="text" class="validate center" ng-model="missionStatementTitle">
              <label for="aboutUsName">Title</label>
            </div>
          </div>

          <div class="row">
            <div class="input-field col s12">
              <textarea id="aboutUs" class="materialize-textarea" ng-model="missionStatement"></textarea>
              <label for="aboutUs">Your Mission Statement</label>
            </div>
          </div>

          <div class="divider"></div>

          <div class="row">
            <div class="col m8">
              <p class="right-align">
                <button class="btn btn-large waves-effect waves-light" type="submit" name="action" ng-click="updateMission(missionStatementTitle, missionStatement)">Save Changes</button>
              </p>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


<!--  Scripts-->
  <script>
    $(document).ready(function(){
      $('.materialboxed').materialbox();
      $('.modal-trigger').leanModal();
    });
  </script>

  <script>
      $('.head-link').click(function(e) {
        e.preventDefault();
        var goto = $(this).attr('href');
      $('html, body').animate({
          scrollTop: $(goto).offset().top
        }, 800);
    });
  </script>
